{"version":3,"file":"marionette-form.js","sources":["../../src/utils.js","../../src/behavior.js","../../src/index.js"],"sourcesContent":["\nimport * as _ from 'lodash'\n\nfunction findDropdownViewInRegions (view, name) {\n  var result = null\n  // Search regions if they are available\n  if (view.getRegions) {\n    _.each(view.getRegions(), function (region) {\n      if (region.currentView) {\n        if (region.currentView.name === name) {\n          result = region.currentView\n          return false\n        }\n      }\n    })\n  }\n  // Return the result\n  return result\n}\n\nfunction findDropdownView (view, name) {\n  // Look in the current view\n  var result = findDropdownViewInRegions(view, name)\n  // Look in nested views\n  if (!result) {\n    _.each(view.getRegions(), function (region) {\n      if (region.currentView) {\n        result = findDropdownViewInRegions(region.currentView, name)\n        if (result) { return false }\n      }\n    })\n  }\n  // Return the result\n  return result\n}\n\nexport default {\n  findDropdownView\n}\n","\nimport _ from 'lodash'\nimport $ from 'jquery'\n\nimport Marionette from 'marionette'\nimport Validator from 'validator'\n\nimport utils from './utils'\n\nexport default Marionette.Behavior.extend({\n  ui: {\n    selects: 'select'\n  },\n  events: {\n    'submit': 'onSubmit',\n    'input': 'onInput',\n    'change': 'onChange'\n  },\n  initialize: function () {\n    this.errorClass = this.options.errorClass || 'error'\n    this.fieldSelector = this.options.fieldSelector || '.field'\n    this.suppressStates = false\n    this.listenTo(this.view, 'clear', this.clear)\n  },\n  onShow: function () {\n    var data = this.view.serializeData()\n    // Add dropdown icons for select controls\n    this.ui.selects.after('<i class=\"icon-dropdown\" />')\n    // Populate the form with data\n    this.suppressStates = true\n    this.view.$el.find('input, select').each(function (i, el) {\n      var $el = $(el)\n      var value = data[$el.attr('name')]\n      if (value) { el.val(value).trigger('change') }\n    })\n    this.suppressStates = false\n    this.applyFormStates()\n  },\n  onChange: function (e) {\n    var el = $(e.target)\n    var name = el.attr('name')\n    // Refresh the form state according to the field\n    var state = this.view.states[name]\n    if (state && !this.suppressStates) {\n      this.applyFormStates()\n    }\n    // Validate the form according to the field\n    var rule = this.view.validation[name]\n    if (rule && this.attemptedSubmission) {\n      this.validate()\n    }\n  },\n  onInput: function (e) {\n    var el = $(e.target)\n    var name = el.attr('name')\n    // Validate the form according to the field\n    var rule = this.view.validation[name]\n    if (rule && this.attemptedSubmission) {\n      this.validate()\n    }\n  },\n  onSubmit: function (e) {\n    e.preventDefault()\n    this.attemptedSubmission = true\n    this.validate(function (err, data) {\n      // TODO: Handle error from validator\n      if (err) { console.log(err); return }\n      if (this.view.model) { this.view.model.set(data) }\n      this.attemptedSubmission = false\n      this.view.trigger('submit', data)\n    }.bind(this))\n  },\n  clear: function () {\n    this.attemptedSubmission = false\n    this.suppressStates = true\n    this.view.$el.find('input').each(function (i, el) {\n      var $el = $(el)\n      $el.val('').trigger('change')\n    })\n    this.suppressStates = false\n    this.applyFormStates()\n  },\n  clearErrors: function () {\n    this.view.$el.find(this.fieldSelector).removeClass(this.errorClass)\n  },\n  fieldError: function (error, name) {\n    // TODO: Better error handling\n    if (error) console.log(error)\n    var el = this.view.$el.find('[name=' + name + ']')\n    el.closest(this.fieldSelector).addClass(this.errorClass)\n  },\n  validate: function (done) {\n    var formData = this.$el.serializeJSON()\n    var validation = this.view.validation || {}\n    // Filter validators and form data using the current form state\n    var state = this.currentState\n    formData = _.pick(formData, function (v, k) { return state[k] })\n    validation = _.pick(validation, function (v, k) { return state[k] })\n    // Validate the form data\n    var validator = Validator.Validator(validation)\n    validator.validate(formData, function (err, result) {\n      if (err) { return done(err) }\n      this.clearErrors()\n      if (_.size(result) === 0) {\n        if (done) { return done(null, formData) }\n      } else {\n        // Apply errors to fields\n        _.each(result, _.bind(this.fieldError, this))\n        // Focus on the first field with an error\n        this.$el.find(this.fieldSelector).each(function () {\n          var el = $(this)\n          if (el.hasClass(this.errorClass)) {\n            el.find('input').focus()\n            return false\n          }\n        })\n      }\n    }.bind(this))\n  },\n  alterStateByField: function (display, field) {\n    var el = this.view.$el.find('[name=' + field + ']')\n    var group = el.closest(this.fieldSelector)\n    var parent = el.parent()\n    if (parent.hasClass('dropdown')) {\n      var view = utils.findDropdownView(this.view, field)\n      if (_.isArray(display)) {\n        group.toggle(true)\n        if (view) { view.setVisibleOptions(display) }\n      } else {\n        group.toggle(!!display)\n        if (display && view) { view.refresh() }\n      }\n    } else if (el.is('select')) {\n      if (_.isObject(display)) {\n        _.each(display, function (v, k) {\n          el.find('[value=' + k + ']').toggle(v)\n        })\n      } else {\n        group.toggle(!!display)\n        el.find('option').toggle(!!display)\n      }\n    } else {\n      group.toggle(!!display)\n    }\n  },\n  applyFormStates: function () {\n    var modelData = this.view.serializeData()\n    var formData = this.$el.serializeJSON()\n    var data = _.extend(modelData, formData)\n    var result = {}\n    // Include all inputs in initial state\n    this.$el.find('input').each(function (i, o) {\n      if (o.name) { result[o.name] = true }\n    })\n    // Determine the current form state\n    _.each(this.view.states, function (state, field) {\n      if (result[field] !== false) {\n        var value = data[field]\n        if (value !== undefined) {\n          _.each(state[value], function (v, k) {\n            if (_.isBoolean(result[k]) && _.isBoolean(v)) {\n              result[k] = result[k] && v\n            } else if (_.isBoolean(result[k]) && _.isArray(v)) {\n              result[k] = v\n            } else if (_.isArray(result[k]) && _.isArray(v)) {\n              result[k] = _.intersection(result[k], v)\n            } else {\n              result[k] = v\n            }\n          })\n        }\n      }\n    })\n    // Apply compiled state\n    _.each(result, this.alterStateByField.bind(this))\n    // Determine the complete state\n    var state = _.clone(result)\n    // Exclude indicated fields\n    var exclude = this.view.exclude || {}\n    _.each(exclude, function (o) { state[o] = false })\n    // Store the complete state\n    this.currentState = state\n  }\n})\n","\nimport FormBehavior from './behavior'\n\nexport default {\n  FormBehavior\n}\n"],"names":[],"mappings":"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"}