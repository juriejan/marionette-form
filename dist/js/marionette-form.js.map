{"version":3,"file":"marionette-form","sources":["marionette-form/src/utils.js","marionette-form/src/behavior.js","marionette-form/src/index.js"],"sourcesContent":["\nimport * as _ from 'lodash'\n\nfunction display (el, value) {\n  el.css('display', (value ? '' : 'none'))\n}\n\nfunction findDropdownViewInRegions (view, name) {\n  var result = null\n  // Search regions if they are available\n  if (view.getRegions) {\n    _.each(view.getRegions(), function (region) {\n      if (region.currentView) {\n        if (region.currentView.name === name) {\n          result = region.currentView\n          return false\n        }\n      }\n    })\n  }\n  // Return the result\n  return result\n}\n\nfunction findDropdownView (view, name) {\n  // Look in the current view\n  var result = findDropdownViewInRegions(view, name)\n  // Look in nested views\n  if (!result) {\n    _.each(view.getRegions(), function (region) {\n      if (region.currentView) {\n        result = findDropdownViewInRegions(region.currentView, name)\n        if (result) { return false }\n      }\n    })\n  }\n  // Return the result\n  return result\n}\n\nexport default {\n  display,\n  findDropdownView\n}\n","\nimport _ from 'lodash'\nimport $ from 'jquery'\n\nimport Marionette from 'marionette'\nimport Validator from 'validator'\n\nimport utils from './utils'\n\nexport default Marionette.Behavior.extend({\n  ui: {\n    selects: 'select'\n  },\n  events: {\n    'submit': 'onSubmit',\n    'input': 'onInput',\n    'change': 'onChange'\n  },\n  initialize: function () {\n    this.errorClass = this.options.errorClass || 'error'\n    this.fieldSelector = this.options.fieldSelector || '.field'\n    this.suppressStates = false\n    this.listenTo(this.view, 'clear', this.clear)\n  },\n  onShow: function () {\n    var data = this.view.serializeData()\n    // Add dropdown icons for select controls\n    this.ui.selects.after('<i class=\"icon-dropdown\" />')\n    // Populate the form with data\n    this.suppressStates = true\n    this.view.$el.find('input, select').each(function (i, el) {\n      var $el = $(el)\n      var value = data[$el.attr('name')]\n      if (value) { $el.val(value).trigger('change') }\n    })\n    this.suppressStates = false\n    this.applyFormStates()\n  },\n  onChange: function (e) {\n    var el = $(e.target)\n    var name = el.attr('name')\n    // Refresh the form state according to the field\n    var state = this.view.states[name]\n    if (state && !this.suppressStates) {\n      this.applyFormStates()\n    }\n    // Validate the form according to the field\n    var rule = this.view.validation[name]\n    if (rule && this.attemptedSubmission) {\n      this.validate()\n    }\n  },\n  onInput: function (e) {\n    var el = $(e.target)\n    var name = el.attr('name')\n    // Validate the form according to the field\n    var rule = this.view.validation[name]\n    if (rule && this.attemptedSubmission) {\n      this.validate()\n    }\n  },\n  onSubmit: function (e) {\n    e.preventDefault()\n    this.view.trigger('attempt')\n    this.attemptedSubmission = true\n    this.validate(function (err, data) {\n      // TODO: Handle error from validator\n      if (err) { console.log(err); return }\n      if (this.view.model) { this.view.model.set(data) }\n      this.attemptedSubmission = false\n      this.view.trigger('submit', data)\n    }.bind(this))\n  },\n  clear: function () {\n    this.attemptedSubmission = false\n    this.suppressStates = true\n    this.view.$el.find('input').each(function (i, el) {\n      var $el = $(el)\n      $el.val('').trigger('change')\n    })\n    this.suppressStates = false\n    this.applyFormStates()\n  },\n  clearErrors: function () {\n    var fields = this.view.$el.find(this.fieldSelector)\n    fields.removeClass(this.errorClass)\n    fields.find('.' + this.errorClass).remove()\n  },\n  fieldError: function (error, name) {\n    var el = this.view.$el.find(`[name=${name}]`)\n    var field = el.closest(this.fieldSelector)\n    field.addClass(this.errorClass)\n    this.view.trigger('error', field, error)\n  },\n  validate: function (done) {\n    var formData = this.$el.serializeJSON()\n    var validation = this.view.validation || {}\n    // Filter validators and form data using the current form state\n    var state = this.currentState\n    formData = _.pickBy(formData, function (v, k) { return state[k] })\n    validation = _.pickBy(validation, function (v, k) { return state[k] })\n    // Validate the form data\n    var validator = Validator.Validator(validation)\n    validator.validate(formData, function (err, result) {\n      if (err) { return done(err) }\n      this.clearErrors()\n      if (_.size(result) === 0) {\n        if (done) { return done(null, formData) }\n      } else {\n        // Apply errors to fields\n        _.each(result, _.bind(this.fieldError, this))\n        // Focus on the first field with an error\n        this.$el.find(this.fieldSelector).each(function () {\n          var el = $(this)\n          if (el.hasClass(this.errorClass)) {\n            el.find('input').focus()\n            return false\n          }\n        })\n      }\n    }.bind(this))\n  },\n  alterStateByField: function (display, field) {\n    var el = this.view.$el.find('[name=' + field + ']')\n    var group = el.closest(this.fieldSelector)\n    var parent = el.parent()\n    if (parent.hasClass('dropdown')) {\n      var view = utils.findDropdownView(this.view, field)\n      if (_.isArray(display)) {\n        utils.display(group, true)\n        if (view) { view.setVisibleOptions(display) }\n      } else {\n        utils.display(group, display)\n        if (display && view) { view.refresh() }\n      }\n    } else if (el.is('select')) {\n      if (_.isObject(display)) {\n        _.each(display, function (v, k) {\n          utils.display(el.find('[value=' + k + ']'), display)\n        })\n      } else {\n        utils.display(group, display)\n        utils.display(el.find('option'), display)\n      }\n    } else {\n      utils.display(group, display)\n    }\n  },\n  applyFormStates: function () {\n    var modelData = this.view.serializeData()\n    var formData = this.$el.serializeJSON()\n    var data = _.extend(modelData, formData)\n    var result = {}\n    // Include all inputs in initial state\n    this.$el.find('input').each(function (i, o) {\n      if (o.name) { result[o.name] = true }\n    })\n    // Determine the current form state\n    _.each(this.view.states, function (state, field) {\n      if (result[field] !== false) {\n        var value = data[field]\n        if (value !== undefined) {\n          _.each(state[value], function (v, k) {\n            if (_.isBoolean(result[k]) && _.isBoolean(v)) {\n              result[k] = result[k] && v\n            } else if (_.isBoolean(result[k]) && _.isArray(v)) {\n              result[k] = v\n            } else if (_.isArray(result[k]) && _.isArray(v)) {\n              result[k] = _.intersection(result[k], v)\n            } else {\n              result[k] = v\n            }\n          })\n        }\n      }\n    })\n    // Apply compiled state\n    _.each(result, this.alterStateByField.bind(this))\n    // Determine the complete state\n    var state = _.clone(result)\n    // Exclude indicated fields\n    var exclude = this.view.exclude || {}\n    _.each(exclude, function (o) { state[o] = false })\n    // Store the complete state\n    this.currentState = state\n  }\n})\n","\nimport FormBehavior from './behavior'\n\nexport default {\n  FormBehavior\n}\n"],"names":[],"mappings":";;;;;;;;;;;EAGA,SAAS,OAAT,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B;AAC3B,EAAA,KAAG,GAAH,CAAO,SAAP,EAAmB,QAAQ,EAAR,GAAa,MAAb,CAAnB,CAD2B;GAA7B;;AAIA,EAAA,SAAS,yBAAT,CAAoC,IAApC,EAA0C,IAA1C,EAAgD;AAC9C,EAAA,MAAI,SAAS,IAAT;;AAD0C,EAAA,MAG1C,KAAK,UAAL,EAAiB;AACnB,EAAA,MAAE,IAAF,CAAO,KAAK,UAAL,EAAP,EAA0B,UAAU,MAAV,EAAkB;AAC1C,EAAA,UAAI,OAAO,WAAP,EAAoB;AACtB,EAAA,YAAI,OAAO,WAAP,CAAmB,IAAnB,KAA4B,IAA5B,EAAkC;AACpC,EAAA,mBAAS,OAAO,WAAP,CAD2B;AAEpC,EAAA,iBAAO,KAAP,CAFoC;WAAtC;SADF;OADwB,CAA1B,CADmB;KAArB;;AAH8C,EAAA,SAcvC,MAAP,CAd8C;GAAhD;;AAiBA,EAAA,SAAS,gBAAT,CAA2B,IAA3B,EAAiC,IAAjC,EAAuC;;AAErC,EAAA,MAAI,SAAS,0BAA0B,IAA1B,EAAgC,IAAhC,CAAT;;AAFiC,EAAA,MAIjC,CAAC,MAAD,EAAS;AACX,EAAA,MAAE,IAAF,CAAO,KAAK,UAAL,EAAP,EAA0B,UAAU,MAAV,EAAkB;AAC1C,EAAA,UAAI,OAAO,WAAP,EAAoB;AACtB,EAAA,iBAAS,0BAA0B,OAAO,WAAP,EAAoB,IAA9C,CAAT,CADsB;AAEtB,EAAA,YAAI,MAAJ,EAAY;AAAE,EAAA,iBAAO,KAAP,CAAF;WAAZ;SAFF;OADwB,CAA1B,CADW;KAAb;;AAJqC,EAAA,SAa9B,MAAP,CAbqC;GAAvC;;AAgBA,cAAe;AACb,EAAA,kBADa;AAEb,EAAA,oCAFa;GAAf;;qBC/Be,WAAW,QAAX,CAAoB,MAApB,CAA2B;AACxC,EAAA,MAAI;AACF,EAAA,aAAS,QAAT;KADF;AAGA,EAAA,UAAQ;AACN,EAAA,cAAU,UAAV;AACA,EAAA,aAAS,SAAT;AACA,EAAA,cAAU,UAAV;KAHF;AAKA,EAAA,cAAY,sBAAY;AACtB,EAAA,SAAK,UAAL,GAAkB,KAAK,OAAL,CAAa,UAAb,IAA2B,OAA3B,CADI;AAEtB,EAAA,SAAK,aAAL,GAAqB,KAAK,OAAL,CAAa,aAAb,IAA8B,QAA9B,CAFC;AAGtB,EAAA,SAAK,cAAL,GAAsB,KAAtB,CAHsB;AAItB,EAAA,SAAK,QAAL,CAAc,KAAK,IAAL,EAAW,OAAzB,EAAkC,KAAK,KAAL,CAAlC,CAJsB;KAAZ;AAMZ,EAAA,UAAQ,kBAAY;AAClB,EAAA,QAAI,OAAO,KAAK,IAAL,CAAU,aAAV,EAAP;;AADc,EAAA,QAGlB,CAAK,EAAL,CAAQ,OAAR,CAAgB,KAAhB,CAAsB,6BAAtB;;AAHkB,EAAA,QAKlB,CAAK,cAAL,GAAsB,IAAtB,CALkB;AAMlB,EAAA,SAAK,IAAL,CAAU,GAAV,CAAc,IAAd,CAAmB,eAAnB,EAAoC,IAApC,CAAyC,UAAU,CAAV,EAAa,EAAb,EAAiB;AACxD,EAAA,UAAI,MAAM,EAAE,EAAF,CAAN,CADoD;AAExD,EAAA,UAAI,QAAQ,KAAK,IAAI,IAAJ,CAAS,MAAT,CAAL,CAAR,CAFoD;AAGxD,EAAA,UAAI,KAAJ,EAAW;AAAE,EAAA,YAAI,GAAJ,CAAQ,KAAR,EAAe,OAAf,CAAuB,QAAvB,EAAF;SAAX;OAHuC,CAAzC,CANkB;AAWlB,EAAA,SAAK,cAAL,GAAsB,KAAtB,CAXkB;AAYlB,EAAA,SAAK,eAAL,GAZkB;KAAZ;AAcR,EAAA,YAAU,kBAAU,CAAV,EAAa;AACrB,EAAA,QAAI,KAAK,EAAE,EAAE,MAAF,CAAP,CADiB;AAErB,EAAA,QAAI,OAAO,GAAG,IAAH,CAAQ,MAAR,CAAP;;AAFiB,EAAA,QAIjB,QAAQ,KAAK,IAAL,CAAU,MAAV,CAAiB,IAAjB,CAAR,CAJiB;AAKrB,EAAA,QAAI,SAAS,CAAC,KAAK,cAAL,EAAqB;AACjC,EAAA,WAAK,eAAL,GADiC;OAAnC;;AALqB,EAAA,QASjB,OAAO,KAAK,IAAL,CAAU,UAAV,CAAqB,IAArB,CAAP,CATiB;AAUrB,EAAA,QAAI,QAAQ,KAAK,mBAAL,EAA0B;AACpC,EAAA,WAAK,QAAL,GADoC;OAAtC;KAVQ;AAcV,EAAA,WAAS,iBAAU,CAAV,EAAa;AACpB,EAAA,QAAI,KAAK,EAAE,EAAE,MAAF,CAAP,CADgB;AAEpB,EAAA,QAAI,OAAO,GAAG,IAAH,CAAQ,MAAR,CAAP;;AAFgB,EAAA,QAIhB,OAAO,KAAK,IAAL,CAAU,UAAV,CAAqB,IAArB,CAAP,CAJgB;AAKpB,EAAA,QAAI,QAAQ,KAAK,mBAAL,EAA0B;AACpC,EAAA,WAAK,QAAL,GADoC;OAAtC;KALO;AAST,EAAA,YAAU,kBAAU,CAAV,EAAa;AACrB,EAAA,MAAE,cAAF,GADqB;AAErB,EAAA,SAAK,IAAL,CAAU,OAAV,CAAkB,SAAlB,EAFqB;AAGrB,EAAA,SAAK,mBAAL,GAA2B,IAA3B,CAHqB;AAIrB,EAAA,SAAK,QAAL,CAAc,UAAU,GAAV,EAAe,IAAf,EAAqB;;AAEjC,EAAA,UAAI,GAAJ,EAAS;AAAE,EAAA,gBAAQ,GAAR,CAAY,GAAZ,EAAF;SAAT;AACA,EAAA,UAAI,KAAK,IAAL,CAAU,KAAV,EAAiB;AAAE,EAAA,aAAK,IAAL,CAAU,KAAV,CAAgB,GAAhB,CAAoB,IAApB,EAAF;SAArB;AACA,EAAA,WAAK,mBAAL,GAA2B,KAA3B,CAJiC;AAKjC,EAAA,WAAK,IAAL,CAAU,OAAV,CAAkB,QAAlB,EAA4B,IAA5B,EALiC;OAArB,CAMZ,IANY,CAMP,IANO,CAAd,EAJqB;KAAb;AAYV,EAAA,SAAO,iBAAY;AACjB,EAAA,SAAK,mBAAL,GAA2B,KAA3B,CADiB;AAEjB,EAAA,SAAK,cAAL,GAAsB,IAAtB,CAFiB;AAGjB,EAAA,SAAK,IAAL,CAAU,GAAV,CAAc,IAAd,CAAmB,OAAnB,EAA4B,IAA5B,CAAiC,UAAU,CAAV,EAAa,EAAb,EAAiB;AAChD,EAAA,UAAI,MAAM,EAAE,EAAF,CAAN,CAD4C;AAEhD,EAAA,UAAI,GAAJ,CAAQ,EAAR,EAAY,OAAZ,CAAoB,QAApB,EAFgD;OAAjB,CAAjC,CAHiB;AAOjB,EAAA,SAAK,cAAL,GAAsB,KAAtB,CAPiB;AAQjB,EAAA,SAAK,eAAL,GARiB;KAAZ;AAUP,EAAA,eAAa,uBAAY;AACvB,EAAA,QAAI,SAAS,KAAK,IAAL,CAAU,GAAV,CAAc,IAAd,CAAmB,KAAK,aAAL,CAA5B,CADmB;AAEvB,EAAA,WAAO,WAAP,CAAmB,KAAK,UAAL,CAAnB,CAFuB;AAGvB,EAAA,WAAO,IAAP,CAAY,MAAM,KAAK,UAAL,CAAlB,CAAmC,MAAnC,GAHuB;KAAZ;AAKb,EAAA,cAAY,oBAAU,KAAV,EAAiB,IAAjB,EAAuB;AACjC,EAAA,QAAI,KAAK,KAAK,IAAL,CAAU,GAAV,CAAc,IAAd,YAA4B,UAA5B,CAAL,CAD6B;AAEjC,EAAA,QAAI,QAAQ,GAAG,OAAH,CAAW,KAAK,aAAL,CAAnB,CAF6B;AAGjC,EAAA,UAAM,QAAN,CAAe,KAAK,UAAL,CAAf,CAHiC;AAIjC,EAAA,SAAK,IAAL,CAAU,OAAV,CAAkB,OAAlB,EAA2B,KAA3B,EAAkC,KAAlC,EAJiC;KAAvB;AAMZ,EAAA,YAAU,kBAAU,IAAV,EAAgB;AACxB,EAAA,QAAI,WAAW,KAAK,GAAL,CAAS,aAAT,EAAX,CADoB;AAExB,EAAA,QAAI,aAAa,KAAK,IAAL,CAAU,UAAV,IAAwB,EAAxB;;AAFO,EAAA,QAIpB,QAAQ,KAAK,YAAL,CAJY;AAKxB,EAAA,eAAW,EAAE,MAAF,CAAS,QAAT,EAAmB,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,EAAA,aAAO,MAAM,CAAN,CAAP,CAAF;OAAhB,CAA9B,CALwB;AAMxB,EAAA,iBAAa,EAAE,MAAF,CAAS,UAAT,EAAqB,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,EAAA,aAAO,MAAM,CAAN,CAAP,CAAF;OAAhB,CAAlC;;AANwB,EAAA,QAQpB,YAAY,UAAU,SAAV,CAAoB,UAApB,CAAZ,CARoB;AASxB,EAAA,cAAU,QAAV,CAAmB,QAAnB,EAA6B,UAAU,GAAV,EAAe,MAAf,EAAuB;AAClD,EAAA,UAAI,GAAJ,EAAS;AAAE,EAAA,eAAO,KAAK,GAAL,CAAP,CAAF;SAAT;AACA,EAAA,WAAK,WAAL,GAFkD;AAGlD,EAAA,UAAI,EAAE,IAAF,CAAO,MAAP,MAAmB,CAAnB,EAAsB;AACxB,EAAA,YAAI,IAAJ,EAAU;AAAE,EAAA,iBAAO,KAAK,IAAL,EAAW,QAAX,CAAP,CAAF;WAAV;SADF,MAEO;;AAEL,EAAA,UAAE,IAAF,CAAO,MAAP,EAAe,EAAE,IAAF,CAAO,KAAK,UAAL,EAAiB,IAAxB,CAAf;;AAFK,EAAA,YAIL,CAAK,GAAL,CAAS,IAAT,CAAc,KAAK,aAAL,CAAd,CAAkC,IAAlC,CAAuC,YAAY;AACjD,EAAA,cAAI,KAAK,EAAE,IAAF,CAAL,CAD6C;AAEjD,EAAA,cAAI,GAAG,QAAH,CAAY,KAAK,UAAL,CAAhB,EAAkC;AAChC,EAAA,eAAG,IAAH,CAAQ,OAAR,EAAiB,KAAjB,GADgC;AAEhC,EAAA,mBAAO,KAAP,CAFgC;aAAlC;WAFqC,CAAvC,CAJK;SAFP;OAH2B,CAiB3B,IAjB2B,CAiBtB,IAjBsB,CAA7B,EATwB;KAAhB;AA4BV,EAAA,qBAAmB,2BAAU,OAAV,EAAmB,KAAnB,EAA0B;AAC3C,EAAA,QAAI,KAAK,KAAK,IAAL,CAAU,GAAV,CAAc,IAAd,CAAmB,WAAW,KAAX,GAAmB,GAAnB,CAAxB,CADuC;AAE3C,EAAA,QAAI,QAAQ,GAAG,OAAH,CAAW,KAAK,aAAL,CAAnB,CAFuC;AAG3C,EAAA,QAAI,SAAS,GAAG,MAAH,EAAT,CAHuC;AAI3C,EAAA,QAAI,OAAO,QAAP,CAAgB,UAAhB,CAAJ,EAAiC;AAC/B,EAAA,UAAI,OAAO,MAAM,gBAAN,CAAuB,KAAK,IAAL,EAAW,KAAlC,CAAP,CAD2B;AAE/B,EAAA,UAAI,EAAE,OAAF,CAAU,OAAV,CAAJ,EAAwB;AACtB,EAAA,cAAM,OAAN,CAAc,KAAd,EAAqB,IAArB,EADsB;AAEtB,EAAA,YAAI,IAAJ,EAAU;AAAE,EAAA,eAAK,iBAAL,CAAuB,OAAvB,EAAF;WAAV;SAFF,MAGO;AACL,EAAA,cAAM,OAAN,CAAc,KAAd,EAAqB,OAArB,EADK;AAEL,EAAA,YAAI,WAAW,IAAX,EAAiB;AAAE,EAAA,eAAK,OAAL,GAAF;WAArB;SALF;OAFF,MASO,IAAI,GAAG,EAAH,CAAM,QAAN,CAAJ,EAAqB;AAC1B,EAAA,UAAI,EAAE,QAAF,CAAW,OAAX,CAAJ,EAAyB;AACvB,EAAA,UAAE,IAAF,CAAO,OAAP,EAAgB,UAAU,CAAV,EAAa,CAAb,EAAgB;AAC9B,EAAA,gBAAM,OAAN,CAAc,GAAG,IAAH,CAAQ,YAAY,CAAZ,GAAgB,GAAhB,CAAtB,EAA4C,OAA5C,EAD8B;WAAhB,CAAhB,CADuB;SAAzB,MAIO;AACL,EAAA,cAAM,OAAN,CAAc,KAAd,EAAqB,OAArB,EADK;AAEL,EAAA,cAAM,OAAN,CAAc,GAAG,IAAH,CAAQ,QAAR,CAAd,EAAiC,OAAjC,EAFK;SAJP;OADK,MASA;AACL,EAAA,YAAM,OAAN,CAAc,KAAd,EAAqB,OAArB,EADK;OATA;KAbU;AA0BnB,EAAA,mBAAiB,2BAAY;AAC3B,EAAA,QAAI,YAAY,KAAK,IAAL,CAAU,aAAV,EAAZ,CADuB;AAE3B,EAAA,QAAI,WAAW,KAAK,GAAL,CAAS,aAAT,EAAX,CAFuB;AAG3B,EAAA,QAAI,OAAO,EAAE,MAAF,CAAS,SAAT,EAAoB,QAApB,CAAP,CAHuB;AAI3B,EAAA,QAAI,SAAS,EAAT;;AAJuB,EAAA,QAM3B,CAAK,GAAL,CAAS,IAAT,CAAc,OAAd,EAAuB,IAAvB,CAA4B,UAAU,CAAV,EAAa,CAAb,EAAgB;AAC1C,EAAA,UAAI,EAAE,IAAF,EAAQ;AAAE,EAAA,eAAO,EAAE,IAAF,CAAP,GAAiB,IAAjB,CAAF;SAAZ;OAD0B,CAA5B;;AAN2B,EAAA,KAU3B,CAAE,IAAF,CAAO,KAAK,IAAL,CAAU,MAAV,EAAkB,UAAU,KAAV,EAAiB,KAAjB,EAAwB;AAC/C,EAAA,UAAI,OAAO,KAAP,MAAkB,KAAlB,EAAyB;AAC3B,EAAA,YAAI,QAAQ,KAAK,KAAL,CAAR,CADuB;AAE3B,EAAA,YAAI,UAAU,SAAV,EAAqB;AACvB,EAAA,YAAE,IAAF,CAAO,MAAM,KAAN,CAAP,EAAqB,UAAU,CAAV,EAAa,CAAb,EAAgB;AACnC,EAAA,gBAAI,EAAE,SAAF,CAAY,OAAO,CAAP,CAAZ,KAA0B,EAAE,SAAF,CAAY,CAAZ,CAA1B,EAA0C;AAC5C,EAAA,qBAAO,CAAP,IAAY,OAAO,CAAP,KAAa,CAAb,CADgC;eAA9C,MAEO,IAAI,EAAE,SAAF,CAAY,OAAO,CAAP,CAAZ,KAA0B,EAAE,OAAF,CAAU,CAAV,CAA1B,EAAwC;AACjD,EAAA,qBAAO,CAAP,IAAY,CAAZ,CADiD;eAA5C,MAEA,IAAI,EAAE,OAAF,CAAU,OAAO,CAAP,CAAV,KAAwB,EAAE,OAAF,CAAU,CAAV,CAAxB,EAAsC;AAC/C,EAAA,qBAAO,CAAP,IAAY,EAAE,YAAF,CAAe,OAAO,CAAP,CAAf,EAA0B,CAA1B,CAAZ,CAD+C;eAA1C,MAEA;AACL,EAAA,qBAAO,CAAP,IAAY,CAAZ,CADK;eAFA;aALY,CAArB,CADuB;WAAzB;SAFF;OADuB,CAAzB;;AAV2B,EAAA,KA6B3B,CAAE,IAAF,CAAO,MAAP,EAAe,KAAK,iBAAL,CAAuB,IAAvB,CAA4B,IAA5B,CAAf;;AA7B2B,EAAA,QA+BvB,QAAQ,EAAE,KAAF,CAAQ,MAAR,CAAR;;AA/BuB,EAAA,QAiCvB,UAAU,KAAK,IAAL,CAAU,OAAV,IAAqB,EAArB,CAjCa;AAkC3B,EAAA,MAAE,IAAF,CAAO,OAAP,EAAgB,UAAU,CAAV,EAAa;AAAE,EAAA,YAAM,CAAN,IAAW,KAAX,CAAF;OAAb,CAAhB;;AAlC2B,EAAA,QAoC3B,CAAK,YAAL,GAAoB,KAApB,CApC2B;KAAZ;GA3IJ,CAAf;;cCNe;AACb,EAAA,4BADa;GAAf;;;;"}